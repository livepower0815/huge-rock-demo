{"version":3,"sources":["webpack:///./src/views/HomePages/FireTest.vue?a0f3","webpack:///src/views/HomePages/FireTest.vue","webpack:///./src/views/HomePages/FireTest.vue?0240","webpack:///./src/views/HomePages/FireTest.vue","webpack:///./src/views/HomePages/FireTest.vue?3274"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","type","id","on","change","uploadFile","src","fireImgUrl","alt","_e","staticStyle","width","data","tableData","stripe","prop","label","click","exportExecl","_v","staticRenderFns","FireTestvue_type_script_lang_js_","date","name","address","methods","wb","xlsx_default","a","utils","table_to_book","document","querySelector","wbout","write","bookType","bookSST","FileSaver_min_default","saveAs","Blob","e","console","log","next","snapshot","percent","bytesTransferred","totalBytes","completeUpload","uploadUrl","_this","firebase","getDownloadURL","then","url","uploadedFile","$refs","files","put","addDatabase","push","title","code","category","is_enabled","description","result","mounted","HomePages_FireTestvue_type_script_lang_js_","component","Object","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_FireTest_vue_vue_type_style_index_0_id_b92f548e_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_FireTest_vue_vue_type_style_index_0_id_b92f548e_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"yHAAA,IAAAA,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,WAAsB,CAAAF,EAAA,OAAYE,YAAA,kBAA6B,CAAAF,EAAA,SAAcG,IAAA,QAAAC,MAAA,CAAmBC,KAAA,OAAAC,GAAA,YAA8BC,GAAA,CAAKC,OAAAZ,EAAAa,cAAyBb,EAAA,WAAAI,EAAA,OAA6BI,MAAA,CAAOM,IAAAd,EAAAe,WAAAC,IAAA,SAAkChB,EAAAiB,KAAAb,EAAA,YAA0Bc,YAAA,CAAaC,MAAA,QAAeX,MAAA,CAAQE,GAAA,YAAAU,KAAApB,EAAAqB,UAAAC,OAAA,KAAmD,CAAAlB,EAAA,mBAAwBI,MAAA,CAAOe,KAAA,OAAAC,MAAA,KAAAL,MAAA,SAA0Cf,EAAA,mBAAwBI,MAAA,CAAOe,KAAA,OAAAC,MAAA,KAAAL,MAAA,SAA0Cf,EAAA,mBAAwBI,MAAA,CAAOe,KAAA,UAAAC,MAAA,SAA+B,GAAApB,EAAA,MAAeO,GAAA,CAAIc,MAAAzB,EAAA0B,cAAyB,CAAA1B,EAAA2B,GAAA,yBACzrBC,EAAA,iFCoCAC,EAAA,CACAT,KADA,WAEA,OACAL,WAAA,GACAM,UAAA,EACAS,KAAA,aACAC,KAAA,MACAC,QAAA,qBACA,CACAF,KAAA,aACAC,KAAA,MACAC,QAAA,qBACA,CACAF,KAAA,aACAC,KAAA,MACAC,QAAA,qBACA,CACAF,KAAA,aACAC,KAAA,MACAC,QAAA,wBAIAC,QAAA,CACAP,YADA,WAGA,IAAAQ,EAAAC,EAAAC,EAAAC,MAAAC,cAAAC,SAAAC,cAAA,eAEAC,EAAAN,EAAAC,EAAAM,MAAAR,EAAA,CAAAS,SAAA,OAAAC,SAAA,EAAAnC,KAAA,UACA,IACAoC,EAAAT,EAAAU,OAAA,IAAAC,KAAA,CAAAN,GAAA,CAAAhC,KAAA,6CACA,MAAAuC,GAAA,qBAAAC,iBAAAC,IAAAF,EAAAP,GACA,OAAAA,GAEAU,KAXA,SAWAC,GACA,IAAAC,EAAAD,EAAAE,iBAAAF,EAAAG,WAAA,IACAN,QAAAC,IAAAG,EAAA,WAEAG,eAfA,SAeAC,GAAA,IAAAC,EAAAzD,KACAgD,QAAAC,IAAA,2BACAS,EAAA,KAAApD,IAAAkD,GAAAG,iBAAAC,KAAA,SAAAC,GACAJ,EAAA3C,WAAA+C,KAGAjD,WArBA,WAsBA,IAAAkD,EAAA9D,KAAA+D,MAAAC,YAAA,GACAhB,QAAAC,IAAAa,GACAJ,EAAA,KAAApD,IAAA,SAAAwD,EAAAhC,MAAAmC,IAAAH,GACApD,GAAA,gBAAAV,KAAAkD,KAAA,KAAAlD,KAAAuD,eAAA,SAAAO,EAAAhC,QAEAoC,YA3BA,WA+BAR,EAAA,KAAApD,IAAA,iBAAA6D,KAAA,CACAC,MAAA,MACAC,KAAA,OACAC,SAAA,KACAC,WAAA,IACAC,YAAA,WACAZ,KAAA,SAAAa,GACAzB,QAAAC,IAAA,UAIAyB,QAjEA,cCrCiWC,EAAA,0BCQjWC,EAAgBC,OAAAC,EAAA,KAAAD,CACdF,EACA7E,EACA6B,GACF,EACA,KACA,WACA,MAIAiD,EAAAG,QAAAC,OAAA,eACeC,EAAA,WAAAL,+CCpBf,IAAAM,EAAAC,EAAA,QAAAC,EAAAD,EAAAE,EAAAH,GAAyjBE,EAAG","file":"js/chunk-c3a7ef1e.d8aaa9c6.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"bgColor\"},[_c('div',{staticClass:\"container py-5\"},[_c('input',{ref:\"files\",attrs:{\"type\":\"file\",\"id\":\"testFile\"},on:{\"change\":_vm.uploadFile}}),(_vm.fireImgUrl)?_c('img',{attrs:{\"src\":_vm.fireImgUrl,\"alt\":\"img\"}}):_vm._e(),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"id\":\"out-table\",\"data\":_vm.tableData,\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"date\",\"label\":\"日期\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"姓名\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"address\",\"label\":\"地址\"}})],1),_c('h2',{on:{\"click\":_vm.exportExecl}},[_vm._v(\"export Execl\")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"bgColor\">\r\n    <div class=\"container py-5\">\r\n      <!-- <h1 @click=\"addDatabase\">1234</h1> -->\r\n      <input type=\"file\" id=\"testFile\" @change=\"uploadFile\" ref=\"files\">\r\n      <img v-if=\"fireImgUrl\" :src=\"fireImgUrl\" alt=\"img\">\r\n      <el-table\r\n        id=\"out-table\"\r\n        :data=\"tableData\"\r\n        stripe\r\n        style=\"width: 100%\">\r\n        <el-table-column\r\n          prop=\"date\"\r\n          label=\"日期\"\r\n          width=\"180\">\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"name\"\r\n          label=\"姓名\"\r\n          width=\"180\">\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"address\"\r\n          label=\"地址\">\r\n        </el-table-column>\r\n      </el-table>\r\n      <h2 @click=\"exportExecl\">export Execl</h2>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {db, storage} from '@/firebase.js'\r\nimport 'firebase/storage'\r\nimport FileSaver from 'file-saver'\r\nimport XLSX from 'xlsx'\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        fireImgUrl: '',\r\n        tableData: [{\r\n          date: '2016-05-02',\r\n          name: '王小虎',\r\n          address: '上海市普陀区金沙江路 1518 弄'\r\n        }, {\r\n          date: '2016-05-04',\r\n          name: '王小虎',\r\n          address: '上海市普陀区金沙江路 1517 弄'\r\n        }, {\r\n          date: '2016-05-01',\r\n          name: '王小虎',\r\n          address: '上海市普陀区金沙江路 1519 弄'\r\n        }, {\r\n          date: '2016-05-03',\r\n          name: '王小虎',\r\n          address: '上海市普陀区金沙江路 1516 弄'\r\n        }],\r\n      }\r\n    },\r\n    methods: {\r\n      exportExecl () {  // 將 table 匯出成 excel\r\n        /* generate workbook object from table */\r\n        let wb = XLSX.utils.table_to_book(document.querySelector('#out-table'))\r\n        /* get binary string as output */\r\n        let wbout = XLSX.write(wb, { bookType: 'xlsx', bookSST: true, type: 'array' })\r\n        try {\r\n        FileSaver.saveAs(new Blob([wbout], { type: 'application/octet-stream' }), 'sheetjs.xlsx')\r\n        } catch (e) { if (typeof console !== 'undefined') console.log(e, wbout) }\r\n        return wbout\r\n      },\r\n      next (snapshot) {  //  計算上傳進度\r\n        let percent = snapshot.bytesTransferred / snapshot.totalBytes * 100;\r\n        console.log(percent + \"% done\");\r\n      },\r\n      completeUpload (uploadUrl) {  // 上傳完成\r\n        console.log('loading was completed !')\r\n        storage.ref(uploadUrl).getDownloadURL().then(url => {\r\n          this.fireImgUrl = url\r\n        })\r\n      },  \r\n      uploadFile () {  // 上傳照片並回傳網址\r\n        const uploadedFile = this.$refs.files.files[0];\r\n        console.log(uploadedFile)\r\n        storage.ref('photo/' + uploadedFile.name).put(uploadedFile)\r\n          .on('state_changed',this.next ,null, this.completeUpload('photo/' + uploadedFile.name))\r\n      },\r\n      addDatabase () { // DB資料 新刪修 測試\r\n        // db.ref('todos').once('value').then(result => {\r\n        //   console.log(result.val())\r\n        // })\r\n        db.ref('huge-products').push({\r\n          title: '產品3',\r\n          code: 'A003',\r\n          category : '運動',\r\n          is_enabled: 'Y',\r\n          description: '這是產品3號',\r\n        }).then(result => {\r\n          console.log('完成')\r\n        })\r\n      },\r\n    },\r\n    mounted(){\r\n      // storage.ref().child('BMI.png').getDownloadURL().then(url => {\r\n      //   console.log(url)\r\n      // })\r\n      \r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n.dddd {\r\n  color: rgb(52, 68, 214)\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FireTest.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FireTest.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FireTest.vue?vue&type=template&id=b92f548e&scoped=true&\"\nimport script from \"./FireTest.vue?vue&type=script&lang=js&\"\nexport * from \"./FireTest.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FireTest.vue?vue&type=style&index=0&id=b92f548e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b92f548e\",\n  null\n  \n)\n\ncomponent.options.__file = \"FireTest.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FireTest.vue?vue&type=style&index=0&id=b92f548e&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FireTest.vue?vue&type=style&index=0&id=b92f548e&lang=scss&scoped=true&\""],"sourceRoot":""}